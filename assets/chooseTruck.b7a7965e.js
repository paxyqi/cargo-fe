import{L as e,_ as a}from"./truckInput.ef8c1d3b.js";import{d as l,o as t,c as i,a as n,j as o,A as u,l as r,w as v,u as s,B as d,x as c,q as h,C as b,D as g,E as m,F as k,y as p,v as y,z as f,k as O,G as w,m as _,H as x,I as U,J as C,K as q,L as j,M as S,O as z}from"./vendor.1119f6b2.js";const L={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},A=n("path",{d:"M80 224l37.78-88.15C123.93 121.5 139.6 112 157.11 112h197.78c17.51 0 33.18 9.5 39.33 23.85L432 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),M=n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M80 224h352v144H80z"},null,-1),T=n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M112 368v32H80v-32"},null,-1),H=n("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M432 368v32h-32v-32"},null,-1),E=n("circle",{cx:"144",cy:"288",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),B=n("circle",{cx:"368",cy:"288",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var I=l({name:"CarOutline",render:function(e,a){return t(),i("svg",L,[A,M,T,H,E,B])}});const P={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},F=n("circle",{cx:"176",cy:"416",r:"32",fill:"currentColor"},null,-1),G=n("circle",{cx:"400",cy:"416",r:"32",fill:"currentColor"},null,-1),J=n("path",{d:"M167.78 304h261.34l38.4-192H133.89l-8.47-48H32v32h66.58l48 272H432v-32H173.42l-5.64-32z",fill:"currentColor"},null,-1);var K=l({name:"CartSharp",render:function(e,a){return t(),i("svg",P,[F,G,J])}});const R=p("br",null,null,-1),N=p("br",null,null,-1),V={class:"checkButton"},D=f("确认"),Q=l({props:{initValue:{required:!0,type:Object}},emits:["formSubmit"],setup(a,{emit:l}){const f=o(null);a=u(a).initValue;const O=o(a);console.log(O.value.availableOrientation[0]);const w=O.value.availableOrientation.length,_=()=>{l("formSubmit",O.value)};return(a,l)=>(t(),r("div",null,[n(s(c),{justify:"center"},{default:v((()=>[n(s(d),{size:"60"},{default:v((()=>[n(s(e))])),_:1})])),_:1}),R,N,n(s(c),{justify:"center"},{default:v((()=>[n(s(h),{"label-width":"80%",model:O.value,size:"large",ref:(e,a)=>{a.formRef=e,f.value=e},"label-placement":"left","show-require-mark":""},{default:v((()=>[n(s(b),{label:"长度","rule-path":"dimension.length"},{default:v((()=>[n(s(g),{value:O.value.dimension.length,"onUpdate:value":l[0]||(l[0]=e=>O.value.dimension.length=e)},null,8,["value"])])),_:1}),n(s(b),{label:"宽度",path:"dimension.width"},{default:v((()=>[n(s(g),{value:O.value.dimension.width,"onUpdate:value":l[1]||(l[1]=e=>O.value.dimension.width=e)},null,8,["value"])])),_:1}),n(s(b),{label:"高度",path:"dimension.hight"},{default:v((()=>[n(s(g),{value:O.value.dimension.hight,"onUpdate:value":l[2]||(l[2]=e=>O.value.dimension.hight=e)},null,8,["value"])])),_:1}),n(s(b),{label:"重量",path:"mass"},{default:v((()=>[n(s(g),{value:O.value.mass,"onUpdate:value":l[3]||(l[3]=e=>O.value.mass=e)},null,8,["value"])])),_:1}),1<=s(w)?(t(),i(s(b),{key:0,label:"①朝向能否堆叠",path:"availableOrientation[0].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[0].bearing,"onUpdate:value":l[4]||(l[4]=e=>O.value.availableOrientation[0].bearing=e)},null,8,["value"])])),_:1})):k("",!0),1<=s(w)?(t(),i(s(b),{key:1,label:"①朝向承受极限",path:"availableOrientation[0].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[0].bearinglevel,"onUpdate:value":l[5]||(l[5]=e=>O.value.availableOrientation[0].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),1<=s(w)?(t(),i(s(b),{key:2,label:"①朝向堆叠极限",path:"availableOrientation[0].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[0].stackinglimit,"onUpdate:value":l[6]||(l[6]=e=>O.value.availableOrientation[0].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),2<=s(w)?(t(),i(s(b),{key:3,label:"②朝向能否堆叠",path:"availableOrientation[1].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[1].bearing,"onUpdate:value":l[7]||(l[7]=e=>O.value.availableOrientation[1].bearing=e)},null,8,["value"])])),_:1})):k("",!0),2<=s(w)?(t(),i(s(b),{key:4,label:"②朝向承受极限",path:"availableOrientation[1].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[1].bearinglevel,"onUpdate:value":l[8]||(l[8]=e=>O.value.availableOrientation[1].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),2<=s(w)?(t(),i(s(b),{key:5,label:"②朝向堆叠极限",path:"availableOrientation[1].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[1].stackinglimit,"onUpdate:value":l[9]||(l[9]=e=>O.value.availableOrientation[1].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),3<=s(w)?(t(),i(s(b),{key:6,label:"③朝向能否堆叠",path:"availableOrientation[2].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[2].bearing,"onUpdate:value":l[10]||(l[10]=e=>O.value.availableOrientation[2].bearing=e)},null,8,["value"])])),_:1})):k("",!0),3<=s(w)?(t(),i(s(b),{key:7,label:"③朝向承受极限",path:"availableOrientation[2].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[2].bearinglevel,"onUpdate:value":l[11]||(l[11]=e=>O.value.availableOrientation[2].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),3<=s(w)?(t(),i(s(b),{key:8,label:"③朝向堆叠极限",path:"availableOrientation[2].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[2].stackinglimit,"onUpdate:value":l[12]||(l[12]=e=>O.value.availableOrientation[2].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),4<=s(w)?(t(),i(s(b),{key:9,label:"④朝向能否堆叠",path:"availableOrientation[3].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[3].bearing,"onUpdate:value":l[13]||(l[13]=e=>O.value.availableOrientation[3].bearing=e)},null,8,["value"])])),_:1})):k("",!0),4<=s(w)?(t(),i(s(b),{key:10,label:"④朝向承受极限",path:"availableOrientation[3].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[3].bearinglevel,"onUpdate:value":l[14]||(l[14]=e=>O.value.availableOrientation[3].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),4<=s(w)?(t(),i(s(b),{key:11,label:"④朝向堆叠极限",path:"availableOrientation[3].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[3].stackinglimit,"onUpdate:value":l[15]||(l[15]=e=>O.value.availableOrientation[3].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),5<=s(w)?(t(),i(s(b),{key:12,label:"⑤朝向能否堆叠",path:"availableOrientation[4].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[4].bearing,"onUpdate:value":l[16]||(l[16]=e=>O.value.availableOrientation[4].bearing=e)},null,8,["value"])])),_:1})):k("",!0),5<=s(w)?(t(),i(s(b),{key:13,label:"⑤朝向承受极限",path:"availableOrientation[4].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[4].bearinglevel,"onUpdate:value":l[17]||(l[17]=e=>O.value.availableOrientation[4].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),5<=s(w)?(t(),i(s(b),{key:14,label:"⑤朝向堆叠极限",path:"availableOrientation[4].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[4].stackinglimit,"onUpdate:value":l[18]||(l[18]=e=>O.value.availableOrientation[4].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),6<=s(w)?(t(),i(s(b),{key:15,label:"⑥朝向能否堆叠",path:"availableOrientation[5].bearing"},{default:v((()=>[n(s(m),{value:O.value.availableOrientation[5].bearing,"onUpdate:value":l[19]||(l[19]=e=>O.value.availableOrientation[5].bearing=e)},null,8,["value"])])),_:1})):k("",!0),6<=s(w)?(t(),i(s(b),{key:16,label:"⑥朝向承受极限",path:"availableOrientation[5].bearinglevel"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[5].bearinglevel,"onUpdate:value":l[20]||(l[20]=e=>O.value.availableOrientation[5].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),6<=s(w)?(t(),i(s(b),{key:17,label:"⑥朝向堆叠极限",path:"availableOrientation[5].stackinglimit"},{default:v((()=>[n(s(g),{value:O.value.availableOrientation[5].stackinglimit,"onUpdate:value":l[21]||(l[21]=e=>O.value.availableOrientation[5].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),n(s(b),{label:"数量",path:"quantity"},{default:v((()=>[n(s(g),{value:O.value.quantity,"onUpdate:value":l[22]||(l[22]=e=>O.value.quantity=e)},null,8,["value"])])),_:1}),n(s(b),null,{default:v((()=>[p("div",V,[n(s(y),{onClick:_,type:"primary"},{default:v((()=>[D])),_:1})])])),_:1})])),_:1},8,["model"])])),_:1})]))}}),W=f("货车参数与数量"),X={style:{display:"flex","flex-direction":"column","align-items":"center"}},Y=f("货物参数与数量"),Z={style:{display:"flex","flex-direction":"column","align-items":"center"}},$=l({setup(e){const l="http://10.128.247.104:8080",i=O(),u=o([]);let c;const h=o([]);let b;(async()=>{var e=JSON.stringify({repositoryname:"truck-type-repository"});await fetch("http://10.128.247.104:8080/get-repository",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":l,"Access-Control-Allow-Methods":"GET, POST"},body:e,credentials:"include",mode:"cors"}).then((e=>e.json())).then((e=>{c=function(e){const a=[];return e.forEach(((e,l,t)=>{e={key:l,code:e.code,name:e.name,quantity:0,maxLoad:e.maxload,length:e.dimension.a,width:e.dimension.b,hight:e.dimension.c},a.push(e)})),a}(e.body),console.log(c),u.value=c})).catch((e=>{i.create({title:"错误",content:e.toString(),duration:1e4,type:"error"})}))})(),(async()=>{var e=JSON.stringify({repositoryname:"cargo-type-repository"});await fetch("http://10.128.247.104:8080/get-repository",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":l,"Access-Control-Allow-Methods":"GET, POST"},body:e,credentials:"include",mode:"cors"}).then((e=>e.json())).then((e=>{b=function(e){const a=[];return e.forEach(((e,l,t)=>{console.log(e.availableorientations),e={key:l,code:e.code,name:e.name,quantity:0,mass:e.mass,length:e.dimension.a,width:e.dimension.b,hight:e.dimension.c,availableOrientation:e.availableorientations},a.push(e)})),a}(e.body),console.log(b),h.value=b})).catch((e=>{i.create({title:"错误",content:e.toString(),duration:1e4,type:"error"})}))})();const g=o([]),m=e=>{g.value=e},k=o(!1),f=o(!1),L=w({key:0,dimension:{length:0,width:0,hight:0},maxLoad:0,quantity:0});var A,M,T={index:0,bearing:!0,bearinglevel:0,stackinglimit:0};const H=w({key:0,dimension:{length:0,width:0,hight:0},mass:0,quantity:0,availableOrientation:[T,T,T,T,T,T]}),E=(A=e=>{console.log(e),L.key=e.key,L.dimension.hight=e.hight,L.dimension.width=e.width,L.dimension.length=e.length,L.maxLoad=e.maxLoad,L.quantity=e.quantity,k.value=!0},[{type:"selection"},{title:"编码",key:"code"},{title:"别名",key:"name"},{title:"长",key:"length"},{title:"宽",key:"width"},{title:"高",key:"hight"},{title:"最大载重",key:"maxLoad"},{title:"数量",key:"quantity"},{title:"更改",key:"change",render:e=>z(y,{size:"small",onClick:()=>A(e)},{default:()=>"修改参数"})}]),B=e=>{console.log(e);var a=u.value.findIndex((a=>a.key===e.key));u.value[a].hight=e.dimension.hight,u.value[a].width=e.dimension.width,u.value[a].length=e.dimension.length,u.value[a].maxLoad=e.maxLoad,u.value[a].quantity=e.quantity,k.value=!1},P=(M=e=>{console.log(e),H.key=e.key,H.dimension.hight=e.hight,H.dimension.width=e.width,H.dimension.length=e.length,H.mass=e.mass,H.quantity=e.quantity,H.availableOrientation=e.availableOrientation,f.value=!0},[{type:"selection"},{title:"编码",key:"code"},{title:"别名",key:"name"},{title:"长",key:"length"},{title:"宽",key:"width"},{title:"高",key:"hight"},{title:"货物质量",key:"mass"},{title:"数量",key:"quantity"},{title:"更改",key:"change",render:e=>z(y,{size:"small",onClick:()=>M(e)},{default:()=>"修改参数"})}]),F=e=>{console.log(e);var a=h.value.findIndex((a=>a.key===e.key));h.value[a].hight=e.dimension.hight,h.value[a].width=e.dimension.width,h.value[a].length=e.dimension.length,h.value[a].mass=e.mass,h.value[a].quantity=e.quantity,h.value[a].availableOrientation=e.availableOrientation,f.value=!1},G={pageSize:10};return(e,l)=>(t(),r("div",null,[n(s(_),null,{default:v((()=>[n(s(U),null,{default:v((()=>[n(s(q),null,{default:v((()=>[n(s(d),{size:"60"},{default:v((()=>[n(s(I))])),_:1}),n(s(C),null,{default:v((()=>[W])),_:1})])),_:1}),n(s(S),null,{default:v((()=>[p("div",X,[n(s(j),{ref:(e,a)=>{a.table=e},columns:s(E),data:u.value,pagination:G,"row-key":e=>e.code,"onUpdate:checkedRowKeys":m},null,8,["columns","data","row-key"])])])),_:1})])),_:1})])),_:1}),n(s(x),{show:k.value,"onUpdate:show":l[0]||(l[0]=e=>k.value=e),"mask-closable":!1},{default:v((()=>[n(s(_),null,{default:v((()=>[n(a,{"init-value":s(L),onFormSubmit:B},null,8,["init-value"])])),_:1})])),_:1},8,["show"]),n(s(_),null,{default:v((()=>[n(s(U),null,{default:v((()=>[n(s(q),null,{default:v((()=>[n(s(d),{size:"60"},{default:v((()=>[n(s(K))])),_:1}),n(s(C),null,{default:v((()=>[Y])),_:1})])),_:1}),n(s(S),null,{default:v((()=>[p("div",Z,[n(s(j),{ref:(e,a)=>{a.table=e},columns:s(P),data:h.value,pagination:G,"row-key":e=>e.code,"onUpdate:checkedRowKeys":m},null,8,["columns","data","row-key"])])])),_:1})])),_:1})])),_:1}),n(s(x),{show:f.value,"onUpdate:show":l[1]||(l[1]=e=>f.value=e),"mask-closable":!1},{default:v((()=>[n(s(_),null,{default:v((()=>[n(Q,{"init-value":s(H),onFormSubmit:F},null,8,["init-value"])])),_:1})])),_:1},8,["show"])]))}});export{$ as default};
