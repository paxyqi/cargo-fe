import{d as e,o as l,c as a,a as t,j as n,A as i,l as o,w as u,u as r,B as s,x as d,q as v,C as c,D as h,y as b,v as g,z as p,E as m,F as k,k as y,G as f,H as w,m as O,I as _,J as x,K as C,L as U,M as j,O as q}from"./vendor.2fd07687.js";const S={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},z=t("path",{d:"M80 224l37.78-88.15C123.93 121.5 139.6 112 157.11 112h197.78c17.51 0 33.18 9.5 39.33 23.85L432 224",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),A=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M80 224h352v144H80z"},null,-1),L=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M112 368v32H80v-32"},null,-1),M=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M432 368v32h-32v-32"},null,-1),T=t("circle",{cx:"144",cy:"288",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),E=t("circle",{cx:"368",cy:"288",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var H=e({name:"CarOutline",render:function(e,t){return l(),a("svg",S,[z,A,L,M,T,E])}});const B={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},J=t("circle",{cx:"176",cy:"416",r:"32",fill:"currentColor"},null,-1),P=t("circle",{cx:"400",cy:"416",r:"32",fill:"currentColor"},null,-1),I=t("path",{d:"M167.78 304h261.34l38.4-192H133.89l-8.47-48H32v32h66.58l48 272H432v-32H173.42l-5.64-32z",fill:"currentColor"},null,-1);var N=e({name:"CartSharp",render:function(e,t){return l(),a("svg",B,[J,P,I])}});const G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},R=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M224 184h128"},null,-1),V=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M224 256h128"},null,-1),F=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M224 327h128"},null,-1),K=t("path",{d:"M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),D=t("circle",{cx:"168",cy:"184",r:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Q=t("circle",{cx:"168",cy:"257",r:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),W=t("circle",{cx:"168",cy:"328",r:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var X=e({name:"ListCircleOutline",render:function(e,t){return l(),a("svg",G,[R,V,F,K,D,Q,W])}});const Y=b("br",null,null,-1),Z=b("br",null,null,-1),$={class:"checkButton"},ee=p("确认"),le=e({props:{initValue:{required:!0,type:Object}},emits:["formSubmit"],setup(e,{emit:a}){const p=n(null);e=i(e).initValue;const m=n(e),k=()=>{a("formSubmit",m.value)};return(e,a)=>(l(),o("div",null,[t(r(d),{justify:"center"},{default:u((()=>[t(r(s),{size:"60"},{default:u((()=>[t(r(X))])),_:1})])),_:1}),Y,Z,t(r(d),{justify:"center"},{default:u((()=>[t(r(v),{"label-width":"80%",model:m.value,size:"large",ref:(e,l)=>{l.formRef=e,p.value=e},"label-placement":"left","show-require-mark":""},{default:u((()=>[t(r(c),{label:"长度","rule-path":"dimension.length"},{default:u((()=>[t(r(h),{value:m.value.dimension.length,"onUpdate:value":a[0]||(a[0]=e=>m.value.dimension.length=e),placeholder:"输入货车车厢长度"},null,8,["value"])])),_:1}),t(r(c),{label:"宽度",path:"dimension.width"},{default:u((()=>[t(r(h),{placeholder:"输入货车车厢宽度",value:m.value.dimension.width,"onUpdate:value":a[1]||(a[1]=e=>m.value.dimension.width=e)},null,8,["value"])])),_:1}),t(r(c),{label:"高度",path:"dimension.hight"},{default:u((()=>[t(r(h),{placeholder:"输入货车车厢高度",value:m.value.dimension.hight,"onUpdate:value":a[2]||(a[2]=e=>m.value.dimension.hight=e)},null,8,["value"])])),_:1}),t(r(c),{label:"负载",path:"maxLoad"},{default:u((()=>[t(r(h),{placeholder:"输入货车最大负载",value:m.value.maxLoad,"onUpdate:value":a[3]||(a[3]=e=>m.value.maxLoad=e)},null,8,["value"])])),_:1}),t(r(c),{label:"数量",path:"quantity"},{default:u((()=>[t(r(h),{placeholder:"输入该种货车数量",value:m.value.quantity,"onUpdate:value":a[4]||(a[4]=e=>m.value.quantity=e)},null,8,["value"])])),_:1}),t(r(c),null,{default:u((()=>[b("div",$,[t(r(g),{onClick:k,type:"primary"},{default:u((()=>[ee])),_:1})])])),_:1})])),_:1},8,["model"])])),_:1})]))}});const ae=b("br",null,null,-1),te=b("br",null,null,-1),ne={class:"checkButton"},ie=p("确认"),oe=e({props:{initValue:{required:!0,type:Object}},emits:["formSubmit"],setup(e,{emit:p}){const y=n(null);e=i(e).initValue;const f=n(e);console.log(f.value.availableOrientation[0]);const w=f.value.availableOrientation.length,O=()=>{p("formSubmit",f.value)};return(e,n)=>(l(),o("div",null,[t(r(d),{justify:"center"},{default:u((()=>[t(r(s),{size:"60"},{default:u((()=>[t(r(X))])),_:1})])),_:1}),ae,te,t(r(d),{justify:"center"},{default:u((()=>[t(r(v),{"label-width":"80%",model:f.value,size:"large",ref:(e,l)=>{l.formRef=e,y.value=e},"label-placement":"left","show-require-mark":""},{default:u((()=>[t(r(c),{label:"长度","rule-path":"dimension.length"},{default:u((()=>[t(r(h),{value:f.value.dimension.length,"onUpdate:value":n[0]||(n[0]=e=>f.value.dimension.length=e)},null,8,["value"])])),_:1}),t(r(c),{label:"宽度",path:"dimension.width"},{default:u((()=>[t(r(h),{value:f.value.dimension.width,"onUpdate:value":n[1]||(n[1]=e=>f.value.dimension.width=e)},null,8,["value"])])),_:1}),t(r(c),{label:"高度",path:"dimension.hight"},{default:u((()=>[t(r(h),{value:f.value.dimension.hight,"onUpdate:value":n[2]||(n[2]=e=>f.value.dimension.hight=e)},null,8,["value"])])),_:1}),t(r(c),{label:"重量",path:"mass"},{default:u((()=>[t(r(h),{value:f.value.mass,"onUpdate:value":n[3]||(n[3]=e=>f.value.mass=e)},null,8,["value"])])),_:1}),1<=r(w)?(l(),a(r(c),{key:0,label:"①朝向能否堆叠",path:"availableOrientation[0].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[0].bearing,"onUpdate:value":n[4]||(n[4]=e=>f.value.availableOrientation[0].bearing=e)},null,8,["value"])])),_:1})):k("",!0),1<=r(w)?(l(),a(r(c),{key:1,label:"①朝向承受极限",path:"availableOrientation[0].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[0].bearinglevel,"onUpdate:value":n[5]||(n[5]=e=>f.value.availableOrientation[0].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),1<=r(w)?(l(),a(r(c),{key:2,label:"①朝向堆叠极限",path:"availableOrientation[0].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[0].stackinglimit,"onUpdate:value":n[6]||(n[6]=e=>f.value.availableOrientation[0].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),2<=r(w)?(l(),a(r(c),{key:3,label:"②朝向能否堆叠",path:"availableOrientation[1].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[1].bearing,"onUpdate:value":n[7]||(n[7]=e=>f.value.availableOrientation[1].bearing=e)},null,8,["value"])])),_:1})):k("",!0),2<=r(w)?(l(),a(r(c),{key:4,label:"②朝向承受极限",path:"availableOrientation[1].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[1].bearinglevel,"onUpdate:value":n[8]||(n[8]=e=>f.value.availableOrientation[1].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),2<=r(w)?(l(),a(r(c),{key:5,label:"②朝向堆叠极限",path:"availableOrientation[1].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[1].stackinglimit,"onUpdate:value":n[9]||(n[9]=e=>f.value.availableOrientation[1].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),3<=r(w)?(l(),a(r(c),{key:6,label:"③朝向能否堆叠",path:"availableOrientation[2].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[2].bearing,"onUpdate:value":n[10]||(n[10]=e=>f.value.availableOrientation[2].bearing=e)},null,8,["value"])])),_:1})):k("",!0),3<=r(w)?(l(),a(r(c),{key:7,label:"③朝向承受极限",path:"availableOrientation[2].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[2].bearinglevel,"onUpdate:value":n[11]||(n[11]=e=>f.value.availableOrientation[2].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),3<=r(w)?(l(),a(r(c),{key:8,label:"③朝向堆叠极限",path:"availableOrientation[2].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[2].stackinglimit,"onUpdate:value":n[12]||(n[12]=e=>f.value.availableOrientation[2].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),4<=r(w)?(l(),a(r(c),{key:9,label:"④朝向能否堆叠",path:"availableOrientation[3].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[3].bearing,"onUpdate:value":n[13]||(n[13]=e=>f.value.availableOrientation[3].bearing=e)},null,8,["value"])])),_:1})):k("",!0),4<=r(w)?(l(),a(r(c),{key:10,label:"④朝向承受极限",path:"availableOrientation[3].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[3].bearinglevel,"onUpdate:value":n[14]||(n[14]=e=>f.value.availableOrientation[3].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),4<=r(w)?(l(),a(r(c),{key:11,label:"④朝向堆叠极限",path:"availableOrientation[3].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[3].stackinglimit,"onUpdate:value":n[15]||(n[15]=e=>f.value.availableOrientation[3].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),5<=r(w)?(l(),a(r(c),{key:12,label:"⑤朝向能否堆叠",path:"availableOrientation[4].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[4].bearing,"onUpdate:value":n[16]||(n[16]=e=>f.value.availableOrientation[4].bearing=e)},null,8,["value"])])),_:1})):k("",!0),5<=r(w)?(l(),a(r(c),{key:13,label:"⑤朝向承受极限",path:"availableOrientation[4].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[4].bearinglevel,"onUpdate:value":n[17]||(n[17]=e=>f.value.availableOrientation[4].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),5<=r(w)?(l(),a(r(c),{key:14,label:"⑤朝向堆叠极限",path:"availableOrientation[4].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[4].stackinglimit,"onUpdate:value":n[18]||(n[18]=e=>f.value.availableOrientation[4].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),6<=r(w)?(l(),a(r(c),{key:15,label:"⑥朝向能否堆叠",path:"availableOrientation[5].bearing"},{default:u((()=>[t(r(m),{value:f.value.availableOrientation[5].bearing,"onUpdate:value":n[19]||(n[19]=e=>f.value.availableOrientation[5].bearing=e)},null,8,["value"])])),_:1})):k("",!0),6<=r(w)?(l(),a(r(c),{key:16,label:"⑥朝向承受极限",path:"availableOrientation[5].bearinglevel"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[5].bearinglevel,"onUpdate:value":n[20]||(n[20]=e=>f.value.availableOrientation[5].bearinglevel=e)},null,8,["value"])])),_:1})):k("",!0),6<=r(w)?(l(),a(r(c),{key:17,label:"⑥朝向堆叠极限",path:"availableOrientation[5].stackinglimit"},{default:u((()=>[t(r(h),{value:f.value.availableOrientation[5].stackinglimit,"onUpdate:value":n[21]||(n[21]=e=>f.value.availableOrientation[5].stackinglimit=e)},null,8,["value"])])),_:1})):k("",!0),t(r(c),{label:"数量",path:"quantity"},{default:u((()=>[t(r(h),{value:f.value.quantity,"onUpdate:value":n[22]||(n[22]=e=>f.value.quantity=e)},null,8,["value"])])),_:1}),t(r(c),null,{default:u((()=>[b("div",ne,[t(r(g),{onClick:O,type:"primary"},{default:u((()=>[ie])),_:1})])])),_:1})])),_:1},8,["model"])])),_:1})]))}}),ue=p("货车参数与数量"),re={style:{display:"flex","flex-direction":"column","align-items":"center"}},se=p("货物参数与数量"),de={style:{display:"flex","flex-direction":"column","align-items":"center"}},ve=b("br",null,null,-1),ce=b("br",null,null,-1),he=b("br",null,null,-1),be=p("发送订单"),ge=p("显示效果"),pe=e({setup(e){const a="http://10.128.215.232:8080",i=y(),v=n([]);let c;const h=n([]);let p;(async()=>{var e=JSON.stringify({repositoryname:"truck-type-repository"});await fetch("http://10.128.215.232:8080/get-repository",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":a,"Access-Control-Allow-Methods":"GET, POST"},body:e,credentials:"include",mode:"cors"}).then((e=>e.json())).then((e=>{c=function(e){const l=[];return e.forEach(((e,a,t)=>{e={key:a,code:e.code,name:e.name,quantity:0,maxLoad:e.maxload,length:e.dimension.a,width:e.dimension.b,hight:e.dimension.c},l.push(e)})),l}(e.body),console.log(c),v.value=c})).catch((e=>{i.create({title:"错误",content:e.toString(),duration:1e4,type:"error"})}))})(),(async()=>{var e=JSON.stringify({repositoryname:"cargo-type-repository"});await fetch("http://10.128.215.232:8080/get-repository",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":a,"Access-Control-Allow-Methods":"GET, POST"},body:e,credentials:"include",mode:"cors"}).then((e=>e.json())).then((e=>{p=function(e){const l=[];return e.forEach(((e,a,t)=>{console.log(e.availableorientations),e={key:a,code:e.code,name:e.name,quantity:0,mass:e.mass,length:e.dimension.a,width:e.dimension.b,hight:e.dimension.c,availableOrientation:e.availableorientations},l.push(e)})),l}(e.body),console.log(p),h.value=p})).catch((e=>{i.create({title:"错误",content:e.toString(),duration:1e4,type:"error"})}))})();const m=n([]);let k=[];const S=e=>{m.value=e,console.log(m.value);const l=[];return e.forEach((e=>{l.push(v.value.findIndex((l=>l.code==e)))})),console.log(l),k=l,l};let z=[];const A=e=>{m.value=e,console.log(m.value);const l=[];return e.forEach((e=>{l.push(h.value.findIndex((l=>l.code==e)))})),console.log(l),z=l,l};let L,M="";const T=async()=>{var e=(()=>{if(0<z.length&&0<k.length){console.log(k),console.log(z);const l=[],a=[];k.forEach((e=>{e={code:v.value[e].code,amount:v.value[e].quantity},l.push(e)})),z.forEach((e=>{e={code:h.value[e].code,amount:h.value[e].quantity},a.push(e)}));var e={userid:"",note:"",truckspecs:l,orderspecs:e=[{code:"",priority:1,cargospecs:a}]};return console.log("this is set send body"),console.log(e),e}return{userid:"",note:"",truckspecs:[],orderspecs:[]}})();e=JSON.stringify({task:e});console.log(e),await fetch("http://10.128.215.232:8080/solve",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":a,"Access-Control-Allow-Methods":"GET, POST"},body:e,credentials:"include",mode:"cors"}).then((e=>e.json())).then((e=>{console.log(e),L=e.body,console.log(L),console.log(JSON.stringify(L)),M=window.btoa(JSON.stringify(L)),console.log(M)})).catch((e=>{i.create({title:"错误",content:e.toString(),duration:1e4,type:"error"})}))};function E(){console.log(M),window.open("../../public/3D/index.html?json="+M)}const B=n(!1),J=n(!1),P=f({key:0,dimension:{length:0,width:0,hight:0},maxLoad:0,quantity:0});var I,G,R={index:0,bearing:!0,bearinglevel:0,stackinglimit:0};const V=f({key:0,dimension:{length:0,width:0,hight:0},mass:0,quantity:0,availableOrientation:[R,R,R,R,R,R]}),F=(I=e=>{console.log(e),P.key=e.key,P.dimension.hight=e.hight,P.dimension.width=e.width,P.dimension.length=e.length,P.maxLoad=e.maxLoad,P.quantity=e.quantity,B.value=!0},[{type:"selection"},{title:"编码",key:"code"},{title:"别名",key:"name"},{title:"长",key:"length"},{title:"宽",key:"width"},{title:"高",key:"hight"},{title:"最大载重",key:"maxLoad"},{title:"数量",key:"quantity"},{title:"更改",key:"change",render:e=>q(g,{size:"small",onClick:()=>I(e)},{default:()=>"修改参数"})}]),K=e=>{console.log(e);var l=v.value.findIndex((l=>l.key===e.key));v.value[l].hight=e.dimension.hight,v.value[l].width=e.dimension.width,v.value[l].length=e.dimension.length,v.value[l].maxLoad=e.maxLoad,v.value[l].quantity=e.quantity,B.value=!1},D=(G=e=>{console.log(e),V.key=e.key,V.dimension.hight=e.hight,V.dimension.width=e.width,V.dimension.length=e.length,V.mass=e.mass,V.quantity=e.quantity,V.availableOrientation=e.availableOrientation,J.value=!0},[{type:"selection"},{title:"编码",key:"code"},{title:"别名",key:"name"},{title:"长",key:"length"},{title:"宽",key:"width"},{title:"高",key:"hight"},{title:"货物质量",key:"mass"},{title:"数量",key:"quantity"},{title:"更改",key:"change",render:e=>q(g,{size:"small",onClick:()=>G(e)},{default:()=>"修改参数"})}]),Q=e=>{console.log(e);var l=h.value.findIndex((l=>l.key===e.key));h.value[l].hight=e.dimension.hight,h.value[l].width=e.dimension.width,h.value[l].length=e.dimension.length,h.value[l].mass=e.mass,h.value[l].quantity=e.quantity,h.value[l].availableOrientation=e.availableOrientation,J.value=!1},W={pageSize:10};return(e,a)=>(l(),o("div",null,[t(r(O),null,{default:u((()=>[t(r(_),null,{default:u((()=>[t(r(C),null,{default:u((()=>[t(r(s),{size:"60"},{default:u((()=>[t(r(H))])),_:1}),t(r(x),null,{default:u((()=>[ue])),_:1})])),_:1}),t(r(j),null,{default:u((()=>[b("div",re,[t(r(U),{ref:(e,l)=>{l.table=e},columns:r(F),data:v.value,pagination:W,"row-key":e=>e.code,"onUpdate:checkedRowKeys":S},null,8,["columns","data","row-key"])])])),_:1})])),_:1})])),_:1}),t(r(w),{show:B.value,"onUpdate:show":a[0]||(a[0]=e=>B.value=e),"mask-closable":!1},{default:u((()=>[t(r(O),null,{default:u((()=>[t(le,{"init-value":r(P),onFormSubmit:K},null,8,["init-value"])])),_:1})])),_:1},8,["show"]),t(r(O),null,{default:u((()=>[t(r(_),null,{default:u((()=>[t(r(C),null,{default:u((()=>[t(r(s),{size:"60"},{default:u((()=>[t(r(N))])),_:1}),t(r(x),null,{default:u((()=>[se])),_:1})])),_:1}),t(r(j),null,{default:u((()=>[b("div",de,[t(r(U),{ref:(e,l)=>{l.table=e},columns:r(D),data:h.value,pagination:W,"row-key":e=>e.code,"onUpdate:checkedRowKeys":A},null,8,["columns","data","row-key"])])])),_:1})])),_:1})])),_:1}),t(r(w),{show:J.value,"onUpdate:show":a[1]||(a[1]=e=>J.value=e),"mask-closable":!1},{default:u((()=>[t(r(O),null,{default:u((()=>[t(oe,{"init-value":r(V),onFormSubmit:Q},null,8,["init-value"])])),_:1})])),_:1},8,["show"]),ve,ce,he,t(r(d),{justify:"center"},{default:u((()=>[t(r(g),{onClick:T},{default:u((()=>[be])),_:1}),t(r(g),{onClick:E},{default:u((()=>[ge])),_:1})])),_:1})]))}});export{pe as default};
